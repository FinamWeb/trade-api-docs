---
sidebar_position: 4
---

# Инструменты

## Security

Объект инструмент описывается следующими полями:

```json
{
  "code": "string",
  "board": "string",
  "market": "Stock",
  "decimals": 0,
  "lotSize": 0,
  "minStep": 0,
  "currency": "string",
  "shortName": "string",
  "properties": 0,
  "timeZoneName": "string",
  "bpCost": 0,
  "accruedInterest": 0,
  "priceSign": "Positive",
  "ticker": "string",
  "lotDivider": 0
}
```

`code` - код инструмента;

`board` - основной режим торгов инструмента;

`market` - рынок инструмента. Тип [Market](common-types.md#market);

`decimals` - количество знаков в дробной части цены;

`lotSize` - размер лота;

`minStep` - минимальный шаг цены;

`currency` - код валюты номинала цены;

`shortName` - название инструмента;

`properties` - параметры инструмента. Значение представлено в виде битовой маски:

- **0** - нет параметров;
- **1** - инструмент торгуется на бирже;
- **2** - инструмент допущен к торгам у брокера - существенно для НЕ ГЛАВНЫХ трейдеров. Главным доступны все инструменты, торгуемые на биржах;
- **4** - рыночные заявки (без ограничения по цене) разрешены;
- **8** - признак маржинальности бумаги;
- **16** - опцион Call;
- **32** - опцион Put;
- **48** - фьючерс Call | Put;
- **64** - разрешен для резидентов;
- **128** - разрешен для нерезидентов.

Инструкция по определению параметра "properties" представлена ниже.

`timeZoneName` - имя таймзоны;

`bpCost` - стоимость пункта цены одного инструмента (не лота), без учета НКД;

`accruedInterest` - текущий НКД;

`priceSign` - допустимая цена инструмента. Принимает следующие значения:

- `Unspecified` — это поле используется, когда информация о цене не задана (новейшие IPO, которые еще не начали торговаться, последствия после "падения" сервера).
- `Positive` — указывает на то, что цена акции положительна. Тicker с таким значением подразумевает, что стоимость акции выше нуля и органично подходит для биржевой торговли (акции, облигации, фонды).
- `NonNegative` — обозначает, что цена может быть нулевой или положительной. Такое значение подразумевает отсутствие активной торговли по определённой цене или временное приостановление (криптовалюты, облигации с нулевым купоном).
- `Any` — позволяет произвольное значение цены, как положительное, так и отрицательное (фьючерсы, опционы).

`ticker` - тикер инструмента на биржевой площадке листинга;

`lotDivider` - коэффициент дробления ценной бумаги в одном стандартном лоте.

## Получение списка инструментов

Для получения списка инструментов необходимо выполнить `GET` запрос на `/api/v1/securities/`.

```json
{
  "board": "string",
  "seccode": "string"
}
```

`board` - Режим торгов (необязательное поле для фильтрации)

`seccode` - Тикер инструмента (необязательное поле для фильтрации)

## Инструкция по определению параметров инструмента по числу "properties"

Шаг 1: Преобразование числа в двоичное представление
1.	Посмотрите на число, полученное в графе "properties".
2.	Преобразуйте это число в двоичное представление. Это можно сделать вручную или использовать калькулятор, поддерживающий двоичное представление.

Шаг 2: Определение включенных битов
1.	После преобразования числа в двоичное представление посмотрите на каждый бит в этом числе. Биты индексируются справа налево, начиная с нуля.
2.	Если бит равен 1, значит, соответствующий параметр включен. Если бит равен 0, значит, соответствующий параметр не включен.


Шаг 3: Сопоставление битов с параметрами

Используйте следующее сопоставление:
- Бит 0 (2^0 = 1, 0x01) - Инструмент торгуется на бирже
- Бит 1 (2^1 = 2, 0x02) - Инструмент допущен к торгам у брокера
- Бит 2 (2^2 = 4, 0x04) - Рыночные заявки (без ограничения по цене) разрешены
- Бит 3 (2^3 = 8, 0x08) - Признак маржинальности бумаги
- Бит 4 (2^4 = 16, 0x10) - Фьючерс Call
- Бит 5 (2^5 = 32, 0x20) - Фьючерс Put
- Бит 6 (2^6 = 64, 0x40) - Разрешен для резидентов
- Бит 7 (2^7 = 128, 0x80) - Разрешен для нерезидентов

Рассмотрим пример для числа 197.
1.	Преобразование числа 197 в двоичное представление: 197 в двоичной системе это 11000101.
2.	Анализ двоичного представления:
- Бит 0 = 1 (2^0 = 1) - включен
- Бит 1 = 0 (2^1 = 2) - не включен
- Бит 2 = 1 (2^2 = 4) - включен
- Бит 3 = 0 (2^3 = 8) - не включен
- Бит 4 = 0 (2^4 = 16) - не включен
- Бит 5 = 0 (2^5 = 32) - не включен
- Бит 6 = 1 (2^6 = 64) - включен
- Бит 7 = 1 (2^7 = 128) - включен

3.	Сопоставление битов с параметрами:
- 1 (бит 0) - Инструмент торгуется на бирже
- 4 (бит 2) - Рыночные заявки (без ограничения по цене) разрешены
- 64 (бит 6) - Разрешен для резидентов
- 128 (бит 7) - Разрешен для нерезидентов

Таким образом, для числа 197 параметры следующие:
- Инструмент торгуется на бирже
- Рыночные заявки (без ограничения по цене) разрешены
- Разрешен для резидентов
- Разрешен для нерезидентов

Этот процесс можно использовать для любого числа, чтобы определить, какие параметры включены для конкретного инструмента.